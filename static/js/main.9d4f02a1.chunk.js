(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3Z1a7",Modal:"Modal_Modal__3qbks"}},13:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__283jE"}},20:function(e,t,a){},23:function(e,t,a){e.exports={Button:"Button_Button__F4ESC"}},3:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__32QVT",SearchForm:"Searchbar_SearchForm__27dIZ",SearchForm__button:"Searchbar_SearchForm__button__3YvJZ","SearchForm__button-label":"Searchbar_SearchForm__button-label__1BX7J",SearchForm__input:"Searchbar_SearchForm__input__3aG4U"}},45:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(12),c=a.n(o),l=(a(19),a(20),a(11)),i=a(4),u=a(5),s=a(7),h=a(6),m=(a(21),{API_KEY:"18650753-c8867d24a687d3baeda70b1dc",HTTP:"https://pixabay.com/api/?",getFullRequest:function(e,t){return fetch("".concat(this.HTTP,"q=").concat(e,"&page=").concat(t,"&key=").concat(this.API_KEY,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).then((function(e){return e}))}}),d=a(3),b=a.n(d),f=a(0),g=function(e){var t=e.onSubmit;return Object(f.jsx)("header",{className:b.a.Searchbar,children:Object(f.jsxs)("form",{className:b.a.SearchForm,onSubmit:function(e){return t(e)},children:[Object(f.jsx)("button",{type:"submit",className:b.a.SearchForm__button,children:Object(f.jsx)("span",{className:"s.SearchForm-button-label"})}),Object(f.jsx)("input",{className:b.a.SearchForm__input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},_=a(13),j=a.n(_),p=a(9),S=a.n(p),F=function(e){var t=e.id,a=e.webformatURL,n=e.largeImageURL;return Object(f.jsx)("li",{className:S.a.ImageGalleryItem,children:Object(f.jsx)("img",{src:a,alt:n,className:S.a.ImageGalleryItem__image})},t)},O=function(e){var t=e.dataFetch,a=e.onClick;return Object(f.jsx)("ul",{className:j.a.ImageGallery,onClick:function(e){return a(e)},children:t.length>0&&t.map((function(e){var t=e.id,a=e.webformatURL,n=e.largeImageURL;return Object(f.jsx)(F,{id:t,webformatURL:a,largeImageURL:n})}))})},y=(a(23),function(e){var t=e.onClick;return Object(f.jsx)("button",{onClick:function(){return t()},children:"Load more"})}),v=(a(24),a(14)),I=a.n(v),x=function(e){Object(s.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(f.jsx)(I.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})}}]),a}(n.Component),C=a(10),k=a.n(C),L=function(e){var t=e.src,a=e.onClickClose,n=e.keyClose;return Object(f.jsx)("div",{className:k.a.Overlay,tabIndex:0,onKeyDown:function(e){return n(e)},onClick:function(e){return a(e)},children:Object(f.jsx)("div",{className:k.a.Modal,children:Object(f.jsx)("img",{src:t,alt:"open full hd img"})})})},G=function(e){Object(s.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={valueSubmit:"",dataFetch:[],page:1,flag:!1,fullHd:""},e.handleSubmit=function(t){t.preventDefault();var a=t.target.lastChild.value,n=e.state.page;m.getFullRequest(a,n).then((function(t){e.setState((function(e){e.valueSubmit,e.dataFetch;return{valueSubmit:a,dataFetch:t.hits}}))}))},e.handleLoadButton=function(){var t=e.state,a=t.valueSubmit,n=t.page+1;e.setState((function(){return{flag:!0}}));m.getFullRequest(a,n+1).then((function(t){e.setState((function(e){var a=e.dataFetch;return{dataFetch:[].concat(Object(l.a)(a),Object(l.a)(t.hits)),page:n,flag:!1}}),(function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))}))},e.handleListenerForList=function(t){"IMG"===t.target.tagName&&e.setState((function(){return{fullHd:t.target.alt}}))},e.handleListenerForCloseModalClick=function(t){"IMG"!==t.target.tagName&&e.setState((function(){return{fullHd:""}})),console.log("handleListenerForCloseModalClick")},e.handleListenerForCloseModalKeydown=function(t){"Escape"===t.code&&e.setState((function(){return{fullHd:""}}))},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state,t=e.dataFetch,a=e.flag,n=e.fullHd;return Object(f.jsxs)("div",{children:[Object(f.jsx)(g,{onSubmit:this.handleSubmit,onChange:this.handleInput}),""!==n&&Object(f.jsx)(L,{src:n,onClickClose:this.handleListenerForCloseModalClick,keyClose:this.handleListenerForCloseModalKeydown}),Object(f.jsx)(O,{dataFetch:t,onClick:this.handleListenerForList}),t.length>0&&Object(f.jsx)(y,{onClick:this.handleLoadButton}),a&&Object(f.jsx)(x,{})]})}}]),a}(n.Component);c.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(G,{})}),document.getElementById("root"))},9:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__Ggugl",ImageGalleryItem__image:"ImageGalleryItem_ImageGalleryItem__image__15pzh"}}},[[45,1,2]]]);
//# sourceMappingURL=main.9d4f02a1.chunk.js.map